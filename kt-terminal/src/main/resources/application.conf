ktor {
    deployment {
        port = 8080
        port = ${?PORT}
    }
    application {
        modules = [ org.now.terminal.ApplicationKt.module ]
    }
}

terminal {
    # 默认shell类型
    defaultShellType = "powershell"
    
    # 终端默认尺寸
    defaultSize {
        columns = 80
        rows = 24
    }
    
    # 默认工作目录配置 - 使用用户主目录，支持环境变量
    defaultWorkingDirectory = "."

    # 会话超时时间（毫秒）
    sessionTimeout = 1800000 # 30分钟
    
    # Shell类型配置
    shells {
        bash {
            command = ["/bin/bash", "-l"]
            # 可选：shell级别的工作目录，不配置则使用defaultWorkingDirectory
            workingDirectory = "/home/longwang"  # 注释掉，使用系统默认
            # 可选：shell级别的终端尺寸，不配置则使用defaultSize
            # size {
            #     columns = 100
            #     rows = 30
            # }
            environment {
                TERM = "xterm-256color"
                PATH = "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
            }
        }
        sh {
            command = ["sh"]
            # 可选：shell级别的工作目录，不配置则使用defaultWorkingDirectory
            workingDirectory = "/home/user"
            # 可选：shell级别的终端尺寸，不配置则使用defaultSize
            # size {
            #     columns = 80
            #     rows = 24
            # }
            environment {
                TERM = "xterm-256color"
                PATH = "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
                # 不设置HOME，使用系统默认
            }
        }
        cmd {
            command = ["cmd.exe"]
            # 可选：shell级别的工作目录，不配置则使用defaultWorkingDirectory
            workingDirectory = "D:\\Users\\long.wang"
            # 可选：shell级别的终端尺寸，不配置则使用defaultSize
            # size {
            #     columns = 120
            #     rows = 30
            # }
            environment {
                TERM = "xterm-256color"
            }
        }
        powershell {
            command = ["powershell.exe"]
            # 可选：shell级别的工作目录，不配置则使用defaultWorkingDirectory
            workingDirectory = "D:\\Users\\long.wang"
            # 可选：shell级别的终端尺寸，不配置则使用defaultSize
            # size {
            #     columns = 120
            #     rows = 30
            # }
            environment {
                TERM = "xterm-256color"
            }
        }
    }
}