# ===========================================
# kt-terminal 应用程序配置
# ===========================================

app {
  # 应用程序基本信息
  name = "kt-terminal"
  version = "1.0.0"
  environment = "dev"
  
  # 服务器配置
  server {
    port = 8080
    host = "localhost"
    contextPath = "/api"
    
    # CORS配置
    cors {
      allowedOrigins = ["*"]
      allowedMethods = ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
      allowedHeaders = ["*"]
      allowCredentials = true
    }
  }
  
  # 数据库配置（开发环境使用H2内存数据库）
  database {
    url = "jdbc:h2:mem:testdb"
    driver = "org.h2.Driver"
    username = "sa"
    password = ""
    poolSize = 10
    connectionTimeout = 30000
    maxLifetime = 1800000
  }
  
  # 事件总线配置
  eventBus {
    bufferSize = 1000
    enableMetrics = true
    enableDeadLetterQueue = true
    deadLetterQueueCapacity = 100
    maxRetries = 3
  }
  
  # 日志配置
  logging {
    level = "INFO"
    format = "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
    
    # 日志文件配置
    file {
      enabled = false
      path = "logs/application.log"
      maxFileSize = "10MB"
      maxHistory = 30
    }
  }
  
  # 监控配置
  monitoring {
    enabled = true
    
    # 指标配置
    metrics {
      enabled = true
      exportInterval = 60000
      endpoints = ["jvm", "system", "process"]
    }
    
    # 健康检查配置
    health {
      enabled = true
      checkInterval = 30000
      endpoints = ["disk", "database", "memory"]
    }
  }
}